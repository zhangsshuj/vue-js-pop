<template>
    <div>
        <canvas id="canvas-daZhuanPan" width="422" height="422">
        </canvas>
    </div>
</template>
<script>
    import ScratchCard from "./luckyDraw.js";
    export default {
        name: '',
        props: [],
        data() {
            return {}
        },
        methods: {
            // å‘±å‘±äº†
            initGuaGuaLe() {
                var canvas = document.getElementById('canvas-daZhuanPan'),
                    context = canvas.getContext('2d');

                new ScratchCard.RouletteWheel({
                    centerX:       canvas.width / 2,
                    centerY:       canvas.height / 2,
                    outsideRadius: 200,

                    awards: [
                        {type: 'text', content: 'iphone8'},
                        {type: 'text', content: 'å¤§ä¿å¥'},
                        {type: 'text', content: '10å…ƒè¯è´¹'},
                        {type: 'image', content: 'https://img12.360buyimg.com/n7/jfs/t4807/209/1436278963/496606/8e486549/58f0884eNcec87657.jpg'},
                        {type: 'losing', content: 'æœªä¸­å¥–'}
                    ],

                    finish: function (index) {
                        switch(this.awards[index].type) {
                            case 'text':
                                alert('ğŸ‰æ­å–œæ‚¨ä¸­å¾—ï¼š' + this.awards[index].content);
                                break;
                            case 'image':
                                alert('ğŸ‰æ­å–œæ‚¨ä¸­å¾—ï¼šæˆ˜äº‰ç£¨åŠæ°´å†·æœºç®±');
                                break;
                            case 'losing':
                                alert('ğŸ’”å¾ˆé—æ†¾ï¼Œæ‚¨æ²¡æœ‰ä¸­å¥–~');
                                break;
                        }
                    }

                }).render(canvas, context)
            }
        },
        computed: {},
        watch: {},
        created() {
        },
        mounted() {
            this.initGuaGuaLe()
        },
        destroyed() {
        },
    }
</script>
<style lang="scss" scoped>
    #canvas-daZhuanPan{
        width: 550px;
        height:550px;
    }
</style>